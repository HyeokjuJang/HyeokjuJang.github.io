(this.webpackJsonppibox=this.webpackJsonppibox||[]).push([[0],{108:function(e,t,n){e.exports=n(293)},113:function(e,t,n){},287:function(e,t){},288:function(e,t){},289:function(e,t){},290:function(e,t){},291:function(e,t){},292:function(e,t){},293:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(63),s=n.n(i),l=(n(113),n(69),n(6)),o=n(5),c=n.n(o),u=n(12),d=n(41),p=n(42),m=n(106),f=n(105),h=n(107),v=n(43),b=n.n(v),g=n(16);var E=n(64),C=n(8),y=function(){function e(t,n,a){var r=this;Object(d.a)(this,e),console.log(n),this.infoTexts=[],this.data=null,this.label=[],this.training=-1,this.videoPlaying=!1,this.trained=!1,this.inputFirst=!0,this.isTraining=!1,this.numClasses=2,this.completeModel=null,this.exampleCount=new Array(2).fill(0),this.lastChildAddClass=null,this.machineId=n,this.piboxPy="",this.downloadPy=a,this.body=document.body,void 0!==t.current&&(this.body=t.current),this.bindPage(),this.video=document.createElement("video"),this.video.setAttribute("autoplay",""),this.video.setAttribute("playsinline",""),this.body.appendChild(this.video);for(var i=function(e){var t=document.createElement("div");r.lastChildAddClass=t,r.body.appendChild(t),t.style.marginBottom="10px";var n=document.createElement("button");n.innerText="\ub370\uc774\ud130 \ucd94\uac00 - \ud074\ub798\uc2a4 "+(e+1),t.appendChild(n),n.addEventListener("mousedown",(function(){return r.training=e})),n.addEventListener("mouseup",(function(){return r.training=-1}));var a=document.createElement("span");a.innerText=" \ucd94\uac00\ub41c \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",t.appendChild(a),r.infoTexts.push(a)},s=0;s<this.numClasses;s++)i(s);var l=document.createElement("div");this.lastChildAddClass=l,this.body.appendChild(l),l.style.marginBottom="10px";var o=document.createElement("button");o.innerText="\ud559\uc2b5\ud558\uae30",l.appendChild(o),o.addEventListener("mouseup",(function(){return r.train()})),l=document.createElement("div"),this.body.appendChild(l),l.style.marginBottom="10px",(o=document.createElement("button")).innerText="\ud559\uc2b5\ud55c \ubaa8\ub378 \uc800\uc7a5",l.appendChild(o),o.addEventListener("mouseup",(function(){r.piboxPy=r.downloadPy(),r.download()})),navigator.mediaDevices.getUserMedia({video:{width:96,height:96},audio:!1}).then((function(e){r.video.srcObject=e,r.video.width=96,r.video.height=96,r.video.addEventListener("playing",(function(){return r.videoPlaying=!0})),r.video.addEventListener("paused",(function(){return r.videoPlaying=!1}))}))}return Object(p.a)(e,[{key:"addTrainingData",value:function(e){this.training=e}},{key:"loadMobileNet",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.d("./assets/".concat(96,"_0.35/model.json"));case 2:return t=e.sent,n=t.getLayer("global_average_pooling2d_1"),e.abrupt("return",C.e({inputs:t.inputs,outputs:n.output}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"bindPage",value:function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMobileNet();case 2:this.mobilenet=e.sent,this.mobilenet.trainable=!1,this.mobilenet.predict(C.k([1,96,96,3])),this.start();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){this.timer&&this.stop(),this.video.play(),this.timer=requestAnimationFrame(this.animate.bind(this))}},{key:"stop",value:function(){this.video.pause(),cancelAnimationFrame(this.timer)}},{key:"train",value:function(){var e=this;if(!this.isTraining){console.log("train start"),this.isTraining=!0;var t=null;this.model=C.g(),this.denseLayer1=C.c.dense({inputShape:this.mobilenet.outputs[0].shape.slice(1),units:100,activation:"relu",use_bias:!0,kernel_initializer:"varianceScaling"}),this.denseLayer2=C.c.dense({units:this.numClasses,activation:"softmax",use_bias:!1,kernel_initializer:"varianceScaling"}),this.model.add(this.denseLayer1),this.model.add(this.denseLayer2),this.model.compile({optimizer:C.j.adam(1e-4),loss:"categoricalCrossentropy",metrics:["accuracy"]}),this.label.forEach((function(n){var a=C.f(C.h([parseInt(n)],"int32"),e.numClasses);if(null===t)t=a;else{var r=t;t=r.concat(a,0),r.dispose()}})),this.model.fit(this.data,t,{epochs:20,batchSize:parseInt(.4*this.label.length),callbacks:{onBatchEnd:function(e,t){console.log("Accuracy",t.acc)}}}).then((function(t){console.log("Final accuracy",t.history.acc),e.trained=!0,e.isTraining=!1}))}}},{key:"download",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.completeModel=C.g(),this.completeModel.add(this.mobilenet),this.completeModel.add(this.model),(t=new FormData).append("pibox",this.piboxPy,"pibox.py"),e.next=7,this.completeModel.save(C.b.http("http://tfjson-to-tflite-2053599458.ap-northeast-2.elb.amazonaws.com/upload",{requestInit:{method:"POST",headers:{machine_id:this.machineId}}}));case 7:return e.next=9,fetch("http://tfjson-to-tflite-2053599458.ap-northeast-2.elb.amazonaws.com/pibox",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{machine_id:this.machineId},redirect:"follow",referrer:"no-referrer",body:t});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"draw",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n){var a,r,i,s,l,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(96,96,a=document.getElementById("canvas-"+n.toString()),(r=document.createElement("canvas")).width=96,r.height=96,r.className="cameraData",a.insertBefore(r,a.firstChild),a.childNodes.length>9&&a.removeChild(a.lastChild),i=r.getContext("2d"),s=new ImageData(96,96),l=t.dataSync(),o=0;o<9216;++o)u=4*o,s.data[u+0]=127*(l[3*o+0]+1),s.data[u+1]=127*(l[3*o+1]+1),s.data[u+2]=127*(l[3*o+2]+1),s.data[u+3]=255;i.putImageData(s,0,0);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addClass",value:function(){var e=this;this.exampleCount.push(0),this.numClasses+=1;var t=document.createElement("div");this.body.insertBefore(t,this.lastChildAddClass),t.style.marginBottom="10px";var n=document.createElement("button");n.innerText="\ub370\uc774\ud130 \ucd94\uac00 - \ud074\ub798\uc2a4 "+this.numClasses,t.appendChild(n);var a=this.numClasses;n.addEventListener("mousedown",(function(){return e.training=a-1})),n.addEventListener("mouseup",(function(){return e.training=-1}));var r=document.createElement("span");r.innerText=" \ucd94\uac00\ub41c \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",t.appendChild(r),this.infoTexts.push(r)}},{key:"animate",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,n,a,r,i,s,l,o,u,d,p=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.videoPlaying){e.next=26;break}if(t=C.a.fromPixels(this.video),a=function(){return C.i((function(){return p.model.predict(p.mobilenet.predict(t.expandDims(0).toFloat().div(127).sub(1)))}))},-1===this.training){e.next=10;break}return r=t.expandDims(0).toFloat().div(127).sub(1),this.inputFirst?(this.data=this.mobilenet.predict(r),this.label.push(this.training),this.inputFirst=!1):(i=this.data,this.data=i.concat(this.mobilenet.predict(r),0),this.label.push(this.training),i.dispose()),e.next=8,this.draw(r,this.training);case 8:this.exampleCount[this.training]+=1,r.dispose();case 10:if(!this.trained){e.next=23;break}return n=a(),s=n.as1D().argMax(),e.next=15,s.data();case 15:return l=e.sent[0],e.next=18,n.data();case 18:for(o=e.sent,u=0;u<this.numClasses;u++)this.infoTexts[u].style.fontWeight=l===u?"bold":"normal",this.exampleCount[u]>0&&(this.infoTexts[u].innerText=" ".concat(this.exampleCount[u]," examples - ").concat(Math.round(100*o[u]),"%"));s.dispose(),e.next=24;break;case 23:for(d=0;d<this.numClasses;d++)this.exampleCount[d]>0&&(this.infoTexts[d].innerText=" ".concat(this.exampleCount[d]," examples"));case 24:t.dispose(),null!=n&&n.dispose();case 26:this.timer=requestAnimationFrame(this.animate.bind(this));case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_=n(65),O=n.n(_),A=n(66),x=n.n(A),P=n(67),I=n.n(P),T=n(68),w=n.n(T);function S(e){var t=Object(a.useState)(["\ud074\ub798\uc2a4 1","\ud074\ub798\uc2a4 2"]),n=Object(g.a)(t,2),i=n[0],s=n[1],o=Object(a.useState)(0),c=Object(g.a)(o,2),u=c[0],d=c[1],p=Object(a.useState)(0),m=Object(g.a)(p,2),f=m[0],h=m[1],v=Object(a.useState)([]),b=Object(g.a)(v,2),C=b[0],_=b[1],A=Object(a.useState)([]),P=Object(g.a)(A,2),T=P[0],S=P[1],N=Object(a.useState)(null),k=Object(g.a)(N,2),M=k[0],D=k[1],L=Object(a.useRef)("");Object(a.useEffect)((function(){void 0!==L.current&&""!==e.machineId&&(D(new y(L,e.machineId,F)),_(new Array(2).fill("")),S(new Array(2).fill("")))}),[L,e.machineId]);var F=function(){var e=document.createElement("a"),t=function(){var e="GPIO.setmode(GPIO.BCM)\npwm = pigpio.pi() \n    ";return 1===u?e+="\npwm.set_mode(18, pigpio.OUTPUT)\n":2===u?e+="\nGPIO.setup(18,GPIO.OUT) # Channel 1 Speed\nGPIO.setup(23,GPIO.OUT) # Direction of Channel 1\nGPIO.output(23,0) \nm1=GPIO.PWM(18,50)\nm1.start(0)\n":3===u&&3!==f&&(e+="\npix1 = neopixel.NeoPixel(board.D18,12)\n"),1===f?e+="\npwm.set_mode(12, pigpio.OUTPUT)\n":2===f?e+="\nGPIO.setup(12,GPIO.OUT) # Channel 2 Speed\nGPIO.setup(25,GPIO.OUT)\nGPIO.output(25,0) # Direction of Channel 2\nm2=GPIO.PWM(12,50)\nm2.start(0)\n":3===f&&3!==u&&(e+="\npix2 = neopixel.NeoPixel(board.D12,12)\n"),e}(),n=function(){var e=0,t="    # From here. the block code\n    resultIndex = np.argmax(result)\n";return i.forEach((function(n,a){var r="",i=!1,s=!1;0===u?i=!0:1===u?r+="pwm.set_servo_pulsewidth(18,".concat(parseFloat(C[a])/180*2e3+500,") # 500 => 0 deg / 1500 => 90 deg / 2500 => 180 deg\n        "):2===u?r+="m1.ChangeDutyCycle(".concat(C[a][1],")\n        GPIO.output(23,").concat(C[a][0],") # Control direction\n        ").concat(2===f?"":"time.sleep(".concat(C[a][2],")\n        m1.ChangeDutyCycle(0)\n        GPIO.output(23,0)\n        "),"\n        "):3===u?r+="pix1.fill((".concat(C[a].r,",").concat(C[a].g,",").concat(C[a].b,"))\n        pix1.show()\n        "):i=!0,0===f?s=!0:1===f?r+="pwm.set_servo_pulsewidth(12,".concat(parseFloat(T[a])/180*2e3+500,") # 500 => 0 deg / 1500 => 90 deg / 2500 => 180 deg\n        "):2===f?r+="m2.ChangeDutyCycle(".concat(T[a][1],")\n        GPIO.output(25,").concat(T[a][0],") # Control direction\n        time.sleep(").concat(T[a][2],")\n        ").concat(2===u?"m1.ChangeDutyCycle(0)\n        GPIO.output(23,0)":"","\n        m2.ChangeDutyCycle(0)\n        GPIO.output(25,0)\n        "):3===f?r+="pix2.fill((".concat(T[a].r,",").concat(T[a].g,",").concat(T[a].b,"))\n        pix2.show()\n        "):s=!0,!0===i&&!0===s||(0===e?(t+="\n    if ",e=1):t+="\n    elif ",t+="resultIndex == ".concat(a,":\n        ").concat(r,"\n        "))})),t}(),a=function(){var e="\n# Clean up\ncv2.destroyAllWindows()\nvideostream.stop()\n";return 1===u&&(e+="p1.stop()\n"),2===u&&(e+="m1.stop()\n"),1===f&&(e+="p2.stop()\n"),2===f&&(e+="m2.stop()\n"),e+="GPIO.cleanup()\n"}(),r=new Blob(["\n## pibox TFLITE\nimport os\nimport argparse\nimport cv2\nimport numpy as np\nimport sys\nimport time\nfrom threading import Thread\nimport importlib.util\n\n## \ucd9c\ub825\uc744 \uc704\ud55c import\nimport RPi.GPIO as GPIO\nimport pigpio\nimport time\nimport board\nimport neopixel\n\n",t,"\n# \uce74\uba54\ub77c \uc624\ube0c\uc81d\ud2b8\nclass VideoStream:\n    def __init__(self,resolution=(320,240),framerate=3): # \uc6d0\ub798\ub294 640,480 \uadf8\ub9ac\uace0 30 framerate\n        # \ud30c\uc774 \uce74\uba54\ub77c\ub97c \uc2dc\uc791\ud569\ub2c8\ub2e4.\n        self.stream = cv2.VideoCapture(0)\n        ret = self.stream.set(cv2.CAP_PROP_FOURCC, cv2.VideoWriter_fourcc(*'MJPG'))\n        ret = self.stream.set(3,resolution[0])\n        ret = self.stream.set(4,resolution[1])\n            \n        # \uccab\ubc88\uc9f8 \uc0ac\uc9c4\uc744 \ubd88\ub7ec\uc635\ub2c8\ub2e4.\n        (self.grabbed, self.frame) = self.stream.read()\n\n\t    # \uba48\ucd9c \uc218 \uc788\ub3c4\ub85d stopped\ub97c \uc124\uc815\ud574\uc90d\ub2c8\ub2e4.\n        self.stopped = False\n\n    def start(self):\n\t    # \ube44\ub514\uc624 \uc2a4\ud2b8\ub9bc\uc5d0\uc11c \ud504\ub808\uc784\uc744 \uc77d\uc5b4\uc624\ub294 \uc4f0\ub808\ub4dc\ub97c \uc2dc\uc791\ud569\ub2c8\ub2e4.\n        Thread(target=self.update,args=()).start()\n        return self\n\n    def update(self):\n        # \uc4f0\ub808\ub4dc\uac00 \uba48\ucd9c \ub54c \uae4c\uc9c0 \uacc4\uc18d \uc2a4\ud2b8\ub9bc\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.\n        while True:\n            # \uce74\uba54\ub77c\uac00 \uba48\ucd94\uba74 \uc2a4\ud2b8\ub9bc\uc744 \uba48\ucda5\ub2c8\ub2e4.\n            if self.stopped:\n                # \uce74\uba54\ub77c \ub9ac\uc18c\uc2a4\ub97c \ub2eb\uc2b5\ub2c8\ub2e4.\n                self.stream.release()\n                return\n\n            # \uba48\ucd98\uac83\uc774 \uc544\ub2c8\ub77c\uba74 \ud504\ub808\uc784\uc744 \uac00\uc838\uc635\ub2c8\ub2e4.\n            (self.grabbed, self.frame) = self.stream.read()\n\n    def read(self):\n\t    # \uac00\uc7a5 \ucd5c\uadfc \ud504\ub808\uc784\uc744 \uac00\uc838\uc635\ub2c8\ub2e4.\n        return self.frame\n\n    def stop(self):\n\t    # \uce74\uba54\ub77c \uc4f0\ub808\ub4dc\ub97c \uc815\uc9c0\ud569\ub2c8\ub2e4.\n        self.stopped = True\n\n# \uc785\ub825 \ud30c\ub77c\ubbf8\ud130\ub97c \uc815\uc758\ud569\ub2c8\ub2e4.\nparser = argparse.ArgumentParser()\nparser.add_argument('--modeldir', help='Folder the .tflite file is located in',\n                    required=True)\nparser.add_argument('--graph', help='Name of the .tflite file, if different than model.tflite',\n                    default='model.tflite')\nparser.add_argument('--labels', help='Name of the labelmap file, if different than labels.txt',\n                    default='labels.txt')\nparser.add_argument('--threshold', help='Minimum confidence threshold for displaying detected objects',\n                    default=0.5)\nparser.add_argument('--resolution', help='Desired webcam resolution in WxH. If the webcam does not support the resolution entered, errors may occur.',\n                    default='320x240') # \uc6d0\ub798\ub294 1280x720 \uc18d\ub3c4\ub97c \uc704\ud574 \ub0ae\ucda4\nparser.add_argument('--edgetpu', help='Use Coral Edge TPU Accelerator to speed up detection',\n                    action='store_true',default=False)\n\nargs = parser.parse_args()\n\nMODEL_NAME = args.modeldir\nGRAPH_NAME = args.graph\nLABELMAP_NAME = args.labels\nmin_conf_threshold = float(args.threshold)\nresW, resH = args.resolution.split('x')\nimW, imH = int(resW), int(resH) # \ub77c\uc988\ubca0\ub9ac\ud30c\uc774 \uc81c\ub85c + \ud30c\uc774\uce74\uba54\ub77c\uc5d0\uc11c\ub294 224,224 \uac00 \uc544\uc8fc \ucb10\uc5d0\uc5d0\uc5d0\ub054 \ube60\ub985\ub2c8\ub2e4.\nuse_TPU = args.edgetpu\n\n# \ud150\uc11c\ud50c\ub85c\uc6b0 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uac00\uc838\uc635\ub2c8\ub2e4.\n# \ud150\uc11c\ud50c\ub85c\uc6b0 \ub77c\uc774\ube0c\ub7ec\ub9ac\uac00 \uc5c6\ub2e4\uba74, tflite_runtime \uc744 \uac00\uc838\uc635\ub2c8\ub2e4.\n# \ucf54\ub784 TPU\ub97c \uc0ac\uc6a9\ud55c\ub2e4\uba74, TPU \uc6a9 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uac00\uc838\uc635\ub2c8\ub2e4. (import the load_delegate library)\npkg = importlib.util.find_spec('tensorflow')\nif pkg is None:\n    from tflite_runtime.interpreter import Interpreter\n    if use_TPU:\n        from tflite_runtime.interpreter import load_delegate\nelse:\n    from tensorflow.lite.python.interpreter import Interpreter\n    if use_TPU:\n        from tensorflow.lite.python.interpreter import load_delegate\n\n# TPU\ub97c \uc0ac\uc6a9\ud55c\ub2e4\uba74 TPU \ubaa8\ub378\uc744 \uac00\uc838\uc635\ub2c8\ub2e4.\nif use_TPU:\n    # 'edgetpu.tflite'\uac00 TPU\ub97c \uc0ac\uc6a9\ud560 \ub54c\uc758 \uae30\ubcf8 \uacbd\ub85c\uc785\ub2c8\ub2e4.\n    if (GRAPH_NAME == 'model.tflite'):\n        GRAPH_NAME = 'edgetpu.tflite'       \n\n# \uc791\uc5c5 \uacbd\ub85c\uc640 \ud604\uc7ac \uacbd\ub85c\ub97c \uc77c\uce58\uc2dc\ud0b5\ub2c8\ub2e4.\nCWD_PATH = os.getcwd()\n\n# \ubaa8\ub378 \uacbd\ub85c\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.\nPATH_TO_CKPT = os.path.join(CWD_PATH,MODEL_NAME,GRAPH_NAME)\n\n# \ub77c\ubca8 \uacbd\ub85c\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.\nPATH_TO_LABELS = os.path.join(CWD_PATH,MODEL_NAME,LABELMAP_NAME)\n\n# \ub77c\ubca8\uc744 \uac00\uc838\uc635\ub2c8\ub2e4.\nwith open(PATH_TO_LABELS, 'r') as f:\n    labels = [line.strip() for line in f.readlines()]\n\n# \uccab\ubc88\uc9f8 \ub77c\ubca8\uc774 ??? \uc778 \uacbd\uc6b0\uac00 \uc788\uc5b4 \uadf8\ub7f4 \uacbd\uc6b0 \uc81c\uac70\ud569\ub2c8\ub2e4.\nif labels[0] == '???':\n    del(labels[0])\n\n# \ud150\uc11c\ud50c\ub85c\uc6b0 \ubaa8\ub378\uc744 \uac00\uc838\uc635\ub2c8\ub2e4. TPU\ub97c \uc4f8 \uacbd\uc6b0 TPU \ubaa8\ub378\ub85c \uac00\uc838\uc635\ub2c8\ub2e4.\nif use_TPU:\n    interpreter = Interpreter(model_path=PATH_TO_CKPT,\n                              experimental_delegates=[load_delegate('libedgetpu.so.1.0')])\n    print(PATH_TO_CKPT)\nelse:\n    interpreter = Interpreter(model_path=PATH_TO_CKPT)\n\ninterpreter.allocate_tensors()\n\n# \ub85c\ub4dc\ub41c \ubaa8\ub378\uc758 \uc815\ubcf4\ub97c \uac00\uc838\uc635\ub2c8\ub2e4.\ninput_details = interpreter.get_input_details()\noutput_details = interpreter.get_output_details()\nheight = input_details[0]['shape'][1]\nwidth = input_details[0]['shape'][2]\n#print(\"\uac00\ub85c\")\n#print(width)\n#print(\"\uc138\ub85c\")\n#print(height)\n# \uc785\ub825\uc774 \uc18c\uc218\uc778\uc9c0 \uc544\ub2cc\uc9c0 \ud310\ub2e8\ud569\ub2c8\ub2e4.\nfloating_model = (input_details[0]['dtype'] == np.float32)\n\ninput_mean = 127.5\ninput_std = 127.5\n\n# \uc5f0\uc0b0 \ud504\ub808\uc784\uc744 \uccb4\ud06c\ud558\uae30 \uc704\ud55c \ubcc0\uc218\ub97c \ud560\ub2f9\ud569\ub2c8\ub2e4.\nframe_rate_calc = 1\nfreq = cv2.getTickFrequency()\n\n# \uc0c1\ub2e8\uc5d0\uc11c \uc815\uc758\ud55c \ube44\ub514\uc624 \uc2a4\ud2b8\ub9bc\uc744 \uc2dc\uc791\ud569\ub2c8\ub2e4.\nvideostream = VideoStream(resolution=(imW,imH),framerate=30).start() \ntime.sleep(1)\n\n# \ud504\ub808\uc784\uc73c\ub85c \uc5f0\uc0b0\uc744 \uc2dc\uc791\ud569\ub2c8\ub2e4.\nwhile True:\n\n    # \uc5f0\uc0b0 \ud504\ub808\uc784\uc744 \uc704\ud55c \uc2dc\uac04 \uccb4\ud06c \ubcc0\uc218\ub97c \ud560\ub2f9\ud569\ub2c8\ub2e4.\n    t1 = cv2.getTickCount()\n\n    # \ube44\ub514\uc624\uc2a4\ud2b8\ub9bc\uc5d0\uc11c \ud504\ub808\uc784\uc744 \uc77d\uc5b4\uc635\ub2c8\ub2e4.\n    frame1 = videostream.read()\n\n    # \uc785\ub825\uc5d0 \ub123\uc744 \uc218 \uc788\ub3c4\ub85d \ud574\uc0c1\ub3c4\ub97c \ubcc0\uacbd\ud569\ub2c8\ub2e4.\n    frame = frame1.copy()\n    frame_rgb = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)\n    # \uc704\uc5d0\uc11c input\uc744 224,224\ub85c \uc124\uc815\ud588\ub2e4\uba74 \uc544\ub798 \uc904\uc740 \ub118\uc5b4\uac00\ub3c4 \ub429\ub2c8\ub2e4..\n    frame_resized = cv2.resize(frame_rgb, (width, height)) \n    input_data = np.expand_dims(frame_resized, axis=0)\n\n    # \uc785\ub825\uc774 \uc18c\uc218\ub77c\uba74 \uc18c\uc218\ub85c \ubc14\uafd4\uc90d\ub2c8\ub2e4.\n    if floating_model:\n        input_data = (np.float32(input_data) - input_mean) / input_std\n\n    # \ub85c\ub4dc\ub41c \ubaa8\ub378\uc5d0 \uc785\ub825\uc744 \ub123\uc5b4 \uacb0\uacfc\ub97c \uac00\uc838\uc635\ub2c8\ub2e4.\n    interpreter.set_tensor(input_details[0]['index'],input_data)\n    interpreter.invoke()\n    result=interpreter.get_tensor(output_details[0]['index'])[0]\n    print(labels[np.argmax(result)])\n    #print(result)\n    # \ucd08\ub2f9 \uc5f0\uc0b0 \ud504\ub808\uc784\uc744 \uacc4\uc0b0\ud569\ub2c8\ub2e4.\n    t2 = cv2.getTickCount()\n    time1 = (t2-t1)/freq\n    frame_rate_calc= 1/time1\n    #print(frame_rate_calc)\n",n,a],{type:"text/plain"});return e.href=URL.createObjectURL(r),e.download="pibox.py",document.body.appendChild(e),r};return r.a.createElement("div",{className:"connect-panel panel"},r.a.createElement("div",{className:"panel-title"},"\ube14\ub85d \ucf54\ub4dc"),null,r.a.createElement("div",{className:"label-output"},r.a.createElement("div",{className:"blocks-container"},r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:"blocks",style:{display:"inline",width:"49%",marginRight:"1%"}},r.a.createElement("div",{className:"block",ref:L}),r.a.createElement("div",{className:"block"},r.a.createElement("button",{onClick:function(){return M.addClass(),s((function(e){return[].concat(Object(l.a)(e),["\ud074\ub798\uc2a4 ".concat(i.length+1)])})),_((function(e){return[].concat(Object(l.a)(e),[""])})),void S((function(e){return[].concat(Object(l.a)(e),[""])}))}},"\ud074\ub798\uc2a4 \ucd94\uac00 +"))),r.a.createElement("div",{className:"blocks",style:{display:"inline",width:"49%",marginLeft:"1%"}},r.a.createElement("div",{className:"block"},r.a.createElement("div",null,r.a.createElement("h4",null,"\ucc44\ub110 1 \ucd9c\ub825"),r.a.createElement("div",{className:"pics"},r.a.createElement("div",{className:"outputType",onClick:function(){d(0),_((function(e){return new Array(e.length).fill("")}))}},r.a.createElement("img",{className:0===u?"outputPicSel":"outputPic",src:w.a,alt:"no output"})),r.a.createElement("div",{className:"outputType",onClick:function(){d(1),_((function(e){return new Array(e.length).fill("0")}))}},r.a.createElement("img",{className:1===u?"outputPicSel":"outputPic",src:O.a,alt:"servomotor"})),r.a.createElement("div",{onClick:function(){d(2),_((function(e){return new Array(e.length).fill(["0","50","0.5"])}))},className:"outputType"},r.a.createElement("img",{className:2===u?"outputPicSel":"outputPic",src:x.a,alt:"motor"})),r.a.createElement("div",{onClick:function(){3!==f?(d(3),_((function(e){return new Array(e.length).fill({r:255,g:255,b:255,a:1})}))):alert("LED \ucd9c\ub825\uc740 1\uac1c\uc758 \ucc44\ub110\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.")},className:"outputType"},r.a.createElement("img",{className:3===u?"outputPicSel":"outputPic",src:I.a,alt:"led"})))),r.a.createElement("div",null,r.a.createElement("h4",null,"\ucc44\ub110 2 \ucd9c\ub825"),r.a.createElement("div",{className:"pics"},r.a.createElement("div",{className:"outputType",onClick:function(){h(0),S((function(e){return new Array(e.length).fill("")}))}},r.a.createElement("img",{className:0===f?"outputPicSel":"outputPic",src:w.a,alt:"no output"})),r.a.createElement("div",{className:"outputType",onClick:function(){h(1),S((function(e){return new Array(e.length).fill("0")}))}},r.a.createElement("img",{className:1===f?"outputPicSel":"outputPic",src:O.a,alt:"servomotor"})),r.a.createElement("div",{onClick:function(){h(2),S((function(e){return new Array(e.length).fill(["0","50","0.5"])}))},className:"outputType"},r.a.createElement("img",{className:2===f?"outputPicSel":"outputPic",src:x.a,alt:"motor"})),r.a.createElement("div",{onClick:function(){3!==u?(h(3),S((function(e){return new Array(e.length).fill({r:255,g:255,b:255,a:1})}))):alert("LED \ucd9c\ub825\uc740 1\uac1c\uc758 \ucc44\ub110\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.")},className:"outputType"},r.a.createElement("img",{className:3===f?"outputPicSel":"outputPic",src:I.a,alt:"led"})))))))),r.a.createElement("div",null,i.map((function(e,t){return r.a.createElement("div",{className:"blocks",key:e},r.a.createElement("div",{className:"block"},e),r.a.createElement("div",null,r.a.createElement("span",{style:{display:"inline-block",width:"50%",textAlign:"center"},id:"canvas-"+t.toString()}),r.a.createElement("span",{style:{display:"inline-block",width:"50%",verticalAlign:"top"}},function(e){return r.a.createElement("div",{className:"showOutputType",key:e},r.a.createElement("span",null,r.a.createElement("h4",null,"\ucc44\ub110 1"),1===u?r.a.createElement("div",{className:"servomotor"},r.a.createElement("p",null,"\uba87 \ub3c4 \uc6c0\uc9c1\uc77c\uae4c\uc694? ( 0 ~ 180 )"),r.a.createElement("input",{style:{height:30},onChange:function(t){var n=t.target.value;_((function(t){var a=Object(l.a)(t);return a[e]=parseInt(n),a}))},type:"number",value:C[e]})):2===u?r.a.createElement("div",{style:{display:"inline"}},r.a.createElement("select",{style:{backgroundColor:"#ffffff",fontSize:15,borderRadius:2},onChange:function(t){var n=t.target.value;_((function(t){var a=Object(l.a)(t);return a[e]=[n,a[e][1],a[e][2]],a}))},defaultValue:C[e][0]},r.a.createElement("option",{value:"0"},"\uc815\ubc29\ud5a5"),r.a.createElement("option",{value:"1"},"\uc5ed\ubc29\ud5a5")),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",null,r.a.createElement("h5",{style:{textAlign:"center"}},"\uc18d\ub3c4 ( 0 ~ 100 ) "),r.a.createElement("input",{style:{height:30},onChange:function(t){var n=t.target.value;_((function(t){var a=Object(l.a)(t);return a[e]=[a[e][0],n,a[e][2]],a}))},type:"number",value:C[e][1]})),r.a.createElement("div",{style:{marginLeft:"10%"}},r.a.createElement("h5",{style:{textAlign:"center"}},"\uc2dc\uac04 ( 1 => 1\ucd08 ) "),r.a.createElement("input",{style:{height:30},onChange:function(t){var n=t.target.value;_((function(t){var a=Object(l.a)(t);return a[e]=[a[e][0],a[e][1],n],a}))},type:"number",value:C[e][2]})))):3===u?r.a.createElement("div",{style:{display:"inline"}},r.a.createElement(E.SliderPicker,{color:C[e],onChange:function(t){_((function(n){var a=Object(l.a)(n);return a[e]=t.rgb,a}))}})):r.a.createElement("div",{style:{display:"flex"}},"\ucd9c\ub825 \uc885\ub958\ub97c \uba3c\uc800 \uc120\ud0dd\ud558\uc138\uc694")),r.a.createElement("span",null,r.a.createElement("h4",null,"\ucc44\ub110 2"),1===f?r.a.createElement("div",{className:"servomotor"},"\uba87 \ub3c4 \uc6c0\uc9c1\uc77c\uae4c\uc694? ( 0 ~ 180 )",r.a.createElement("br",null),r.a.createElement("input",{style:{height:30},onChange:function(t){var n=t.target.value;S((function(t){var a=Object(l.a)(t);return a[e]=parseInt(n),a}))},type:"number",value:T[e]})):2===f?r.a.createElement("div",{style:{display:"inline"}},r.a.createElement("select",{style:{backgroundColor:"#ffffff",fontSize:15,borderRadius:2},onChange:function(t){var n=t.target.value;S((function(t){var a=Object(l.a)(t);return a[e]=[n,a[e][1],a[e][2]],a}))},defaultValue:T[e][0]},r.a.createElement("option",{value:"0"},"\uc815\ubc29\ud5a5"),r.a.createElement("option",{value:"1"},"\uc5ed\ubc29\ud5a5")),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",null,r.a.createElement("h5",{style:{textAlign:"center"}},"\uc18d\ub3c4 ( 0 ~ 100 ) "),r.a.createElement("input",{style:{height:30},onChange:function(t){var n=t.target.value;S((function(t){var a=Object(l.a)(t);return a[e]=[a[e][0],n,a[e][2]],a}))},type:"number",value:T[e][1]})),r.a.createElement("div",{style:{marginLeft:"10%"}},r.a.createElement("h5",{style:{textAlign:"center"}},"\uc2dc\uac04 ( 1 => 1\ucd08 ) "),r.a.createElement("input",{style:{height:30},onChange:function(t){var n=t.target.value;S((function(t){var a=Object(l.a)(t);return a[e]=[a[e][0],a[e][1],n],a}))},type:"number",value:T[e][2]})))):3===f?r.a.createElement("div",{style:{display:"inline"}},r.a.createElement(E.SliderPicker,{color:T[e],onChangeComplete:function(t){S((function(n){var a=Object(l.a)(n);return a[e]=t.rgb,a}))}})):r.a.createElement("div",{style:{display:"flex"}},"\ucd9c\ub825 \uc885\ub958\ub97c \uba3c\uc800 \uc120\ud0dd\ud558\uc138\uc694")))}(t))))}))))),r.a.createElement("div",null,r.a.createElement("h4",null,"\ube14\ub85d\uc774 \uc644\uc131\ub418\uc5c8\ub2e4\uba74"," ",r.a.createElement("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){return F()}},"\ucf54\ub4dc \ub2e4\uc6b4\ub85c\ub4dc")," ")),r.a.createElement("div",null,r.a.createElement("h4",null,r.a.createElement("span",{style:{color:"blue",cursor:"pointer"},onClick:function(){return function(t){var n=document.createElement("a"),a="sshpass -praspberry scp -o StrictHostKeyChecking=no ./model.tflite pi@".concat(e.ipAddress,":/home/pi/tflite/model.tflite\nsshpass -praspberry scp -o StrictHostKeyChecking=no ./labels.txt pi@").concat(e.ipAddress,":/home/pi/tflite/labels.txt\nsshpass -praspberry scp -o StrictHostKeyChecking=no ./pibox.py pi@").concat(e.ipAddress,":/home/pi/tflite/pibox.py\n"),r=new Blob([a],{type:"text/plain"});n.href=URL.createObjectURL(r),n.download="WIN"===t?"upload.bat":"upload.sh",document.body.appendChild(n),n.click()}("WIN")}},"\ucf54\ub4dc \uc5c5\ub85c\ub4dc \ud504\ub85c\uadf8\ub7a8(\uc708\ub3c4\uc6b0)"),r.a.createElement("br",null),"\ucf54\ub4dc\uc640 \uc5c5\ub85c\ub4dc \ud504\ub85c\uadf8\ub7a8 \ud30c\uc77c\uc740 \ubaa8\ub378\ud30c\uc77c\uc744 \uc555\ucd95\ud47c \ud3f4\ub354\uc640 \uac19\uc740 \ud3f4\ub354\uc5d0 \ub123\uc5b4\uc8fc\uc138\uc694."),r.a.createElement("p",null,"\ucd08\uae30 \ube44\ubc00\ubc88\ud638 : raspberry",r.a.createElement("br",null))))}var N=n(3),k=n.n(N),M=function(e){function t(e){var n;for(var a in Object(d.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this,e))).connectDevice=function(){navigator.bluetooth.requestDevice({filters:[{services:[k.a.SERVICE_ID]}]}).then((function(e){return e.gatt.connect()})).then((function(e){return n.setState({serverId:e.device.id}),e.getPrimaryService(k.a.SERVICE_ID)})).then((function(e){return n.state.isIphone?(console.log("ios webBLE"),n.webBleConnect(e)):e.getCharacteristics()})).then(function(){var e=Object(u.a)(c.a.mark((function e(t){var a,r,i,s,l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Connected!"),a=t,n.setState({isConnected:!0}),r=[{preset:!0,uuid:"",label:"Device ID",value:n.state.serverId},{preset:!0,uuid:k.a.DEVICE_MODEL,label:"Model",value:" "},{preset:!0,uuid:k.a.WIFI_NAME,label:"Wifi",value:"..."},{preset:!0,uuid:k.a.IP_ADDRESS,label:"IP Address",value:"..."}],e.next=6,n.subscribeCharacteristic(k.a.WIFI_NAME,r,a);case 6:return e.next=8,n.subscribeCharacteristic(k.a.IP_ADDRESS,r,a);case 8:return e.next=10,n.readInfoCharacteristic(k.a.DEVICE_MODEL,r,a);case 10:return e.next=12,n.subscribeCharacteristic(k.a.NOTIFY_MESSAGE,r,a);case 12:return e.next=14,n.subscribeCharacteristic(k.a.CUSTOM_COMMAND_NOTIFY,r,a);case 14:a.filter((function(e){return e.uuid.indexOf(k.a.CUSTOM_INFO_LABEL)>=0})).map((function(e){return r.push({uuid:e.uuid.replace(k.a.CUSTOM_INFO_LABEL,k.a.CUSTOM_INFO),uuid_label:e.uuid,label:"-",value:""})})),i=0;case 16:if(!(i<r.length)){e.next=26;break}if(!r[i].preset){e.next=19;break}return e.abrupt("continue",23);case 19:return e.next=21,n.readInfoCharacteristic(r[i].uuid_label,r,a);case 21:return e.next=23,n.subscribeCharacteristic(r[i].uuid,r,a);case 23:i++,e.next=16;break;case 26:s=[],a.filter((function(e){return e.uuid.indexOf(k.a.CUSTOM_COMMAND_LABEL)>=0})).map((function(e){return s.push({uuid:e.uuid,label:"..."})})),l=s,o=0;case 30:if(!(o<l.length)){e.next=36;break}return e.next=33,n.readCommandLabel(l[o].uuid,l,a);case 33:o++,e.next=30;break;case 36:n.setState({characteristicsList:a,infoList:r,commandList:l});case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(console.log)},n.readCommandLabel=function(e,t,a){return new Promise((function(r){n.getCharacteristicInit(e,a).readValue().then((function(e){return e.buffer})).then(n.ab2str).then((function(a){var i=t;i.find((function(t){return t.uuid===e})).label=a,n.setState({commandList:i},r())}))}))},n.readInfoCharacteristic=function(e,t,a){return new Promise((function(r){n.getCharacteristicInit(e,a).readValue().then((function(e){return e.buffer})).then(n.ab2str).then((function(a){var i=t;i.find((function(t){return t.uuid===e}))&&(i.find((function(t){return t.uuid===e})).value=a),i.find((function(t){return t.uuid_label===e}))&&(i.find((function(t){return t.uuid_label===e})).label=a),i!==n.state.infoList?n.setState({infoList:i},r()):r()}))}))},n.subscribeCharacteristic=function(e,t,a){return new Promise(function(){var r=Object(u.a)(c.a.mark((function r(i){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.getCharacteristicInit(e,a).addEventListener("characteristicvaluechanged",(function(a){if(a.target.uuid===k.a.NOTIFY_MESSAGE){var r=n.ab2str(a.target.value.buffer);v.notify.show(r,"custom",3e3,"teal")}else if(a.target.uuid===k.a.CUSTOM_COMMAND_NOTIFY){var i=n.ab2str(a.target.value.buffer);if(n.state.commandOutputShouldRefresh)n.setState({commandOutputShouldRefresh:!1,commandOutput:""},(function(){var e=n.state.commandOutput+i;e.endsWith("&#&")&&(e=e.replace("&#&",""),n.setState({commandOutputShouldRefresh:!0})),n.setState({commandOutput:e})}));else{var s=n.state.commandOutput+i;s.endsWith("&#&")&&(s=s.replace("&#&",""),n.setState({commandOutputShouldRefresh:!0})),n.setState({commandOutput:s})}}else{var l=n.ab2str(a.target.value.buffer),o=t;o.find((function(t){return t.uuid===e}))&&(o.find((function(t){return t.uuid===e})).value=l),o.find((function(t){return t.uuid_label===e}))&&(o.find((function(t){return t.uuid_label===e})).label=l),n.setState({infoList:o})}})),r.next=3,n.getCharacteristicInit(e,a).startNotifications();case 3:i();case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())},n.webBleConnect=function(e){return new Promise(function(){var t=Object(u.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCharacteristic(k.a.PREFIX+k.a.CUSTOM_INFO_COUNT).then((function(e){return e.readValue()})).then((function(e){return e.buffer})).then(n.ab2str).then(parseInt).then((function(e){console.log("custom-info-count "+e),n.setState({customInfoCount:e})}));case 2:return t.next=4,e.getCharacteristic(k.a.PREFIX+k.a.CUSTOM_COMMAND_COUNT).then((function(e){return e.readValue()})).then((function(e){return e.buffer})).then(n.ab2str).then(parseInt).then((function(t){console.log("custom-command-count "+t),n.setState({customCommandCount:t},(function(){for(var t=[],r=0;r<n.state.customInfoCount;r++){var i=(r+1).toString(16);i="0".repeat(4-i.length)+i,t.push(k.a.PREFIX+k.a.CUSTOM_INFO+i),t.push(k.a.PREFIX+k.a.CUSTOM_INFO_LABEL+i)}for(var s=[],o=0;o<n.state.customCommandCount;o++){var c=(o+1).toString(16);c="0".repeat(4-c.length)+c,s.push(k.a.PREFIX+k.a.CUSTOM_COMMAND_LABEL+c)}a(Promise.all([e.getCharacteristic(k.a.SERVICE_NAME),e.getCharacteristic(k.a.DEVICE_MODEL),e.getCharacteristic(k.a.WIFI_NAME),e.getCharacteristic(k.a.IP_ADDRESS),e.getCharacteristic(k.a.NOTIFY_MESSAGE),e.getCharacteristic(k.a.INPUT_SEP),e.getCharacteristic(k.a.CUSTOM_COMMAND_INPUT),e.getCharacteristic(k.a.CUSTOM_COMMAND_NOTIFY)].concat(Object(l.a)(t.map((function(t){return e.getCharacteristic(t)}))),Object(l.a)(s.map((function(t){return e.getCharacteristic(t)}))))))}))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},n.ab2str=function(e){return String.fromCharCode.apply(null,new Uint8Array(e))},n.getCharacteristic=function(e){return n.state.characteristicsList.find((function(t){return t.uuid===e}))},n.getCharacteristicInit=function(e,t){return t.find((function(t){return t.uuid===e}))},n.inputWifi=function(){n.setState({key:n.state.key.trim().replace(/\|/g,"*"),ssid:n.state.ssid.trim().replace(/\|/g,"*"),password:n.state.password.trim().replace(/\|/g,"*")},(function(){var e;if(""===n.state.ssid&&(e="SSID cannot be empty."),""===n.state.password&&(e="Password cannot be empty."),e)v.notify.show(e,"custom",3e3,"teal");else{n.setState({wifiLock:!0},(function(){return setTimeout((function(){n.setState({wifiLock:!1})}),4e3)}));var t=n.str2abs("".concat(n.state.key,"%&%").concat(n.state.ssid,"%&%").concat(n.state.password,"&#&"));n.sendSeparately(t,k.a.INPUT_SEP)}}))},n.sendCommand=function(e){var t=n.str2abs("".concat(n.state.key,"%&%").concat(e.slice(-4),"&#&"));n.sendSeparately(t,k.a.CUSTOM_COMMAND_INPUT)},n.sendSeparately=function(){var e=Object(u.a)(c.a.mark((function e(t,a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=c.a.keys(t);case 1:if((e.t1=e.t0()).done){e.next=9;break}return r=e.t1.value,e.next=5,n.getCharacteristic(a).writeValue(t[r]);case 5:return e.next=7,n.wait(.4);case 7:e.next=1;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n.wait=function(){var e=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(!0)}),1e3*t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.str2abs=function(e){for(var t="",n=0;n<e.length;n++)""===t?t=e.charCodeAt(n).toString(16):t+=","+e.charCodeAt(n).toString(16);for(var a=t.split(","),r=[];a.length>0;){var i=a.splice(0,20).join(",");r.push(new Uint8Array(i.match(/[\da-f]{2}/gi).map((function(e){return parseInt(e,16)}))).buffer)}return r},n.state={supportBluetooth:Boolean(window.navigator.bluetooth),isConnected:!1,serverId:"",ssid:"",password:"",key:"pibox",wifiLock:!1,characteristicsList:[],infoList:[],commandList:[],commandOutput:"",commandOutputShouldRefresh:!1,loading:null,charLength:-1,customInfoCount:0,customCommandCount:0,isAndroid:navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1,isIphone:navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iphone")>-1},k.a)k.a[a]=k.a[a].toLowerCase();return n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"BluetoothConnect"},r.a.createElement("div",{id:"app"},r.a.createElement(b.a,null),r.a.createElement("div",{className:"panel-container"},this.state.supportBluetooth?null:r.a.createElement("div",{className:"connect-panel panel"},r.a.createElement("div",{className:"panel-title"},"Cannot find web bluetooth."),r.a.createElement("p",null,"Please make sure your device and browser support web bluetooth. Please visit"," ",r.a.createElement("a",{href:"https://github.com/WebBluetoothCG/web-bluetooth/blob/master/implementation-status.md",target:"_brank"},"Here")," ","to check web-bluetooth compatibility.")),!this.state.isConnected&&this.state.supportBluetooth?r.a.createElement("div",{className:"connect-panel panel"},r.a.createElement("div",{className:"panel-title"},"PIBOX. \ub77c\uc988\ubca0\uc774\ud30c\uc774\ub97c \ube14\ub8e8\ud22c\uc2a4\ub85c \ucc3e\uc544 \uc81c\uc5b4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),r.a.createElement("div",null,r.a.createElement("button",{className:"findBluetooth",onClick:this.connectDevice},"\ube14\ub8e8\ud22c\uc2a4\ub85c \ucc3e\uae30"))):null,this.state.isConnected?r.a.createElement("div",{className:"info-panel panel"},r.a.createElement("div",{className:"panel-title"},"\uae30\uae30 \uc815\ubcf4"),this.state.infoList.map((function(e){return r.a.createElement("div",{key:e.uuid,className:"info-group"},r.a.createElement("div",{className:"label"},e.label),r.a.createElement("div",{className:"value"},e.value))}))):null,this.state.isConnected?r.a.createElement("div",{className:"wifi-panel panel"},r.a.createElement("div",{className:"panel-title"},"\ub77c\uc988\ubca0\ub9ac\ud30c\uc774 \uc640\uc774\ud30c\uc774 \uc124\uc815"),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"\uc640\uc774\ud30c\uc774 \uc774\ub984(SSID)",value:this.state.ssid,onChange:function(t){return e.setState({ssid:t.target.value})}})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"\uc640\uc774\ud30c\uc774 \ube44\ubc00\ubc88\ud638",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},type:"password"})),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Key (Default: pibox)",value:this.state.key,onChange:function(t){return e.setState({key:t.target.value})}})),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.inputWifi,disabled:this.state.wifiLock},"\uc640\uc774\ud30c\uc774 \uc124\uc815"))):null,this.state.isConnected?r.a.createElement("div",{className:"command-panel panel"},r.a.createElement("div",{className:"panel-title"},"\ucee4\uc2a4\ud140 \uba85\ub839\uc5b4"),this.state.commandList.length>0?r.a.createElement("div",null,r.a.createElement("div",null,this.state.commandList.map((function(t){return r.a.createElement("div",{key:t.uuid,className:"button-wrap"},r.a.createElement("button",{size:"small",onClick:function(){return e.sendCommand(t.uuid)}},t.label))}))),r.a.createElement("div",null,r.a.createElement("input",{placeholder:"Key (Default: pibox)",value:this.state.key,onChange:function(t){return e.setState({key:t.target.value})}})),r.a.createElement("div",null,r.a.createElement("input",{type:"textarea",placeholder:"Output",value:this.state.commandOutput,readOnly:!0,rows:"10"}))):r.a.createElement("p",null,"\ucee4\uc2a4\ud140 \uba85\ub839\uc5b4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")):null),(this.state.isConnected,null),this.state.isConnected&&void 0!==this.state.infoList.find((function(e){return"Machine ID"===e.label}))?r.a.createElement("div",{className:"panel-container"},r.a.createElement(S,{ipAddress:void 0===this.state.infoList.find((function(e){return"IP Address"===e.label}))?"":this.state.infoList.find((function(e){return"IP Address"===e.label})).value,machineId:void 0===this.state.infoList.find((function(e){return"Machine ID"===e.label}))?"":this.state.infoList.find((function(e){return"Machine ID"===e.label})).value})):null,r.a.createElement("div",{className:"copyright"},"PiBox . Open source under GPL-3.0 license.")))}}]),t}(r.a.Component);var D=function(){return r.a.createElement(M,null)};s.a.render(r.a.createElement(D,null),document.getElementById("root")||document.createElement("div"))},3:function(e,t){e.exports={PREFIX:"00000000-0000-0000-0000-",SERVICE_ID:"FD2B4448-AA0F-4A15-A62F-EB0BE77A0000",SERVICE_NAME:"FD2B4448-AA0F-4A15-A62F-EB0BE77A0001",DEVICE_MODEL:"FD2B4448-AA0F-4A15-A62F-EB0BE77A0002",WIFI_NAME:"FD2B4448-AA0F-4A15-A62F-EB0BE77A0003",IP_ADDRESS:"FD2B4448-AA0F-4A15-A62F-EB0BE77A0004",INPUT:"FD2B4448-AA0F-4A15-A62F-EB0BE77A0005",NOTIFY_MESSAGE:"FD2B4448-AA0F-4A15-A62F-EB0BE77A0006",INPUT_SEP:"FD2B4448-AA0F-4A15-A62F-EB0BE77A0007",CUSTOM_COMMAND_INPUT:"FD2B4448-AA0F-4A15-A62F-EB0BE77A0008",CUSTOM_COMMAND_NOTIFY:"FD2B4448-AA0F-4A15-A62F-EB0BE77A0009",CUSTOM_INFO_LABEL:"FD2BCCCA",CUSTOM_INFO_COUNT:"FD2BCCAA0000",CUSTOM_INFO:"FD2BCCCB",CUSTOM_COMMAND_LABEL:"FD2BCCCC",CUSTOM_COMMAND_COUNT:"FD2BCCAC0000"}},65:function(e,t,n){e.exports=n.p+"static/media/servomotor.ba097c0f.png"},66:function(e,t,n){e.exports=n.p+"static/media/motor.d4643de8.png"},67:function(e,t,n){e.exports=n.p+"static/media/led.cd049886.png"},68:function(e,t,n){e.exports=n.p+"static/media/none.bd980005.png"},69:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.d5c0d538.chunk.js.map